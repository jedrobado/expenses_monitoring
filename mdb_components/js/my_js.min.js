$(document).ready(function () {
	// logout button
	$("#logout").click(function(){
		$(this).attr("disabled","disabled");
		$.ajax({
			'url':'../processes/logout.php',
			'type':'POST',
			'dataType':'JSON',
			success:function(data){
				toastr[data[0]](data[1]);
				if(data[0]!="success"){
					$(this).removeAttr("disabled");
				}
				else{
					setInterval(function(){
						location.reload();
					},1000);
				}
			}
		});
	});
	// tooltip initialization
	$('[data-toggle="tooltip"]').tooltip();
	// popovers Initialization
	$('[data-toggle="popover"]').popover();
	// sidenav initialization
	$(".button-collapse").sideNav();
});
// set toastr options
toastr.options = {
	"closeButton": false,
	"debug": false,
	"newestOnTop": false,
	"progressBar": true,
	"positionClass": "md-toast-top-right",
	"preventDuplicates": false,
	"onclick": null,
	"showDuration": 300,
	"hideDuration": 1000,
	"timeOut": 5000,
	"extendedTimeOut": 1000,
	"showEasing": "swing",
	"hideEasing": "linear",
	"showMethod": "fadeIn",
	"hideMethod": "fadeOut"
}
// pagination
function pagination(url,div_id,table_id,trigger,offset,limit){
	$.ajax({
		dataType:'HTML',
		type:'POST',
		async:false,
		data:{url:url,div_id:div_id,table_id:table_id,trigger:trigger,offset:offset,limit:limit},
		url:url,
		success:function(data){
			$("#"+div_id).html(data);
			$('#'+table_id).DataTable({
				"scrollX": true,
				"info": false,
				"lengthChange": false,
				"paging": false,
				"searching": false,
				"order": [],
			});
		}
	});
	$('[data-toggle="tooltip"]').tooltip();
}
// move pagination
$(document).on("click",".move_page",function(){
	pagination($(this).attr("url"),$(this).attr("div_id"),$(this).attr("table_id"),$(this).attr("trigger"),$(this).attr("offset"),$(this).attr("limit"));
});
// global print function
function printer(data){
	$.ajax({
		'url':'../processes/printer.php',
		'type':'POST',
		'dataType':'JSON',
		'data':{data:data},
		success:function(data){
			window.open('../processes/printer.php', '_blank', 'width=700, height=800');
		}
	});
}